(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ModalImage:"Modal_ModalImage__qzLSk",Overlay:"Modal_Overlay__3Fkyi",Modal:"Modal_Modal__2uShx"}},12:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1nKZn",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3AfzX"}},13:function(e,t,a){e.exports={Button:"Button_Button__3cY6u",ButtonLoadMore:"Button_ButtonLoadMore__2e5GF"}},17:function(e,t,a){e.exports={Loader:"Loader_Loader__1f6kn"}},22:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),o=a.n(r),s=(a(22),a(3)),i=a(4),l=(a(15),a(5)),u=a.n(l),m=a(1);function j(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(m.jsx)("header",{className:u.a.Searchbar,children:Object(m.jsxs)("form",{className:u.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):i.b.warning("Please enter your search query !")},children:[Object(m.jsx)("input",{className:u.a.SearchFormInput,type:"text",autocomplete:"off",autofocus:!0,placeholder:"Search images and photos",name:"searchQuery",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())}}),Object(m.jsx)("button",{type:"submit",className:u.a.SearchFormButton,children:Object(m.jsx)("span",{className:u.a.SearchFormButtonLabel,children:"Search"})})]})})}var h=a(14),b=a(12),d=a.n(b);function g(e){var t=e.images,a=e.onClickImage;return t.map((function(e){return Object(m.jsx)("li",{className:d.a.ImageGalleryItem,children:Object(m.jsx)("img",{src:e.webformatURL,alt:e.tags,className:d.a.ImageGalleryItemImage,onClick:function(){return a(e)}})},e.id)}))}a(24);var f=a(16),O=a.n(f),_=a(17),p=a.n(_);function x(){return Object(m.jsx)("div",{className:p.a.Loader,children:Object(m.jsx)(O.a,{type:"ThreeDots",color:"#FF00FF",height:80,width:80,timeout:5e3})})}var y=a(13),I=a.n(y);var S=function(e){var t=e.handleLoadMore;return Object(m.jsx)("div",{className:I.a.ButtonLoadMore,children:Object(m.jsx)("button",{type:"button",className:I.a.Button,onClick:t,children:"Load more"})})},v=a(7),F=a.n(v),L="idle",C="pending",M="download",N="resolved",k="rejected",w="22499741-87b5d21a315c32b3b505be895",G="https://pixabay.com/api";function B(e){var t=e.onClickImage,a=e.searchQuery,c=Object(n.useState)(null),r=Object(s.a)(c,2),o=r[0],l=r[1],u=Object(n.useState)(1),j=Object(s.a)(u,2),b=j[0],d=j[1],f=Object(n.useState)(L),O=Object(s.a)(f,2),_=O[0],p=O[1],y=Object(n.useState)(null),I=Object(s.a)(y,2),v=I[0],B=I[1];Object(n.useEffect)((function(){if(1===b){if(!a)return;p(C),setTimeout((function(){fetch("".concat(G,"/?q=").concat(a,"&page=").concat(b,"&key=").concat(w,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){if(0===e.hits.length)return i.b.error("No image with name  ".concat(a)),Promise.reject(new Error("Please try to enter something else"));l(e.hits),p(N)})).catch((function(e){B(e),p(k)}))}),1e3)}}),[a,b]),Object(n.useEffect)((function(){1!==b&&(p(M),setTimeout((function(){fetch("".concat(G,"/?q=").concat(a,"&page=").concat(b,"&key=").concat(w,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){l((function(t){return[].concat(Object(h.a)(t),Object(h.a)(e.hits))})),p(N)})).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))}),1e3))}),[a,b]);return _===L?Object(m.jsx)("div",{className:"Text",children:"Enter your query to start image search"}):_===C?Object(m.jsx)("div",{children:Object(m.jsx)(x,{})}):_===M?Object(m.jsxs)("div",{className:F.a.GalleryContainer,children:[Object(m.jsx)("ul",{className:F.a.ImageGallery,children:Object(m.jsx)(g,{images:o,onClickImage:t})}),Object(m.jsx)(x,{})]}):_===k?Object(m.jsx)("h2",{className:"ErrorMessage",children:v.message}):_===N?Object(m.jsxs)("div",{className:F.a.GalleryContainer,children:[Object(m.jsx)("ul",{className:F.a.ImageGallery,children:Object(m.jsx)(g,{images:o,onClickImage:t})}),o.length>0&&Object(m.jsx)(S,{handleLoadMore:function(){d((function(e){return e+1}))}})]}):void 0}var E=a(10),T=a.n(E);function q(e){var t=e.onCloseModal,a=e.imageInModal;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(m.jsx)("div",{className:T.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(m.jsx)("div",{className:T.a.Modal,children:Object(m.jsx)("img",{className:T.a.ModalImage,src:a.largeImageURL,alt:a.tags})})})}function P(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(s.a)(r,2),l=o[0],u=o[1],h=Object(n.useState)(""),b=Object(s.a)(h,2),d=b[0],g=b[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)(j,{onSubmit:function(e){c(e)}}),Object(m.jsx)(i.a,{autoClose:5e3,position:"top-center",theme:"colored"}),Object(m.jsx)(B,{searchQuery:a,onClickImage:function(e){g(e),u(!0)}}),l&&Object(m.jsx)(q,{imageInModal:d,onCloseModal:function(){u(!1)}})]})}var z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,46)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(P,{})}),document.getElementById("root")),z()},5:function(e,t,a){e.exports={SearchForm:"Searchbar_SearchForm__F-p8b",SearchFormButton:"Searchbar_SearchFormButton__2dpAr",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__32X0U",SearchFormInput:"Searchbar_SearchFormInput__1riH9",Searchbar:"Searchbar_Searchbar__27ddL"}},7:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3YC4g",GalleryContainer:"ImageGallery_GalleryContainer__EeOsQ"}}},[[45,1,2]]]);
//# sourceMappingURL=main.85b675af.chunk.js.map